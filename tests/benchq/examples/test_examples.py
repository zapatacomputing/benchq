################################################################################
# Â© Copyright 2022-2023 Zapata Computing Inc.
################################################################################
import os
import sys

import pytest

from examples.advanced_estimates import main as advanced_estimates_main
from examples.h_chain_from_qasm import main as h_chain_from_qasm_main
from examples.h_chain_trotter import main as h_chain_main
from examples.qsp_vlasov import main as qsp_vlasov_main

MAIN_DIR = os.path.dirname(os.path.dirname(os.path.dirname(os.path.abspath(__file__))))
sys.path.insert(0, os.path.dirname(MAIN_DIR))

print(sys.path)
print(MAIN_DIR)


@pytest.fixture(autouse=True)
def _clean_auto_generated_files():
    yield
    try:
        os.remove("adjacency_matrix.csv")
        os.remove("icm_input_circuit.json")
        os.remove("icm_output.json")
    except Exception:
        print("Failed to delete autogenerated files.")


def test_h_chain_example():
    h_chain_main()


def test_h_chain_from_qasm_example():
    file_path = os.path.join("examples", "h_chain_circuit.qasm")
    h_chain_from_qasm_main(file_path)


def test_qsp_vlasov_example():
    qsp_vlasov_main()


# def test_advanced_estimates():
#     advanced_estimates_main()
